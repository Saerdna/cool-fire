<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />

    <title>cool-fire - mac</title>

    <link rel="stylesheet" href="../theme/css/normalize.css" />
    <link rel="stylesheet" href="../theme/css/foundation.css" />
    <link rel="stylesheet" href="../theme/css/style.css" />
    <link rel="stylesheet" href="../theme/css/pygments.css" />	
    <link href="http://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css" rel="stylesheet">
    <script src="http://cdn.bootcss.com/highlight.js/8.0/highlight.min.js"></script>
    <script >hljs.initHighlightingOnLoad();</script>
    <script src="../theme/js/modernizr.js"></script>
</head>

<body>

<!-- Nav Bar -->
<nav>
<div class="top-bar">
<div class="row">
    <div class="large-9 large-centered columns">
	    <h1><a href="..">cool-fire</a></h1>
    </div>
</div>
</div>

<!-- Show menu items and pages -->
<div class="row">
<div class="large-9 columns">
    <ul class="button-group navigation">

            <li><a href="../pages/search.html" class="button secondary small">Search</a></li>
    </ul>
</div>
</div>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->
<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns">
        
        

            <article>
                <a href="../posts/technology/install_pyv8_in_mac-zh.html"><h3 class="article-title">在mac下安装pyv8</h3></a>
<h6 class="subheader" title="2014-12-06T02:56:00+08:00">2014-12-06
</h6>


<h3>需求起因</h3>
<p>最近在写一个自动登录网站并执行某些操作的模块。</p>
<p>网站在js中加了token，需要在登录的时候传过去做校验。</p>
<pre><code>var JSP_VAR={
  callback:"callbackurl",
  sid:"sid",
  qs:"qs_string",
  hidden:"",
  "_sign":"token",
};
</code></pre>

<h3>尝试解决</h3>
<p>开始尝试直接正则抠出字符串后<code>json.loads</code>，发现和标准json不大一致，遂作罢。</p>
<p>后来发现还有pyv8这种神奇的货色，考虑到以后需求肯定不单单是提取js的数据，也会有一些执行的东西，就想着试试。</p>
<p>执行<code>pip install pyv8</code>后提示</p>
<blockquote>
<p>src/Exception.h:6:16: fatal error: v8.h: no such file or directory</p>
</blockquote>
<p>参考了这个哥们的文章之后发现还是不行，安装v8后没有出现boost部分的错误。building PyV8的时候报错了，<a href="../files/pyv8_install_failed.log">错误日志</a>。</p>
<h3>解决方案</h3>
<p>无奈之下只好找了个<a href="https://github.com/brokenseal/PyV8-OS-X">PyV8-OS-X</a>直接拿来用，缺点是以后移植到linux平台下还得改代码。</p>
<h5>mac版：</h5>
<p><pre><code>from pyv8 import PyV8
</code></pre></p>
<h5>linux版：</h5>
<p><pre><code>import PyV8
</code></pre></p>
<p>为了这个事情都折腾半天了，实在不划算，对于一个程序员来说，折腾这种环境的事情实在太浪费时间了,下次一定得搞一台mini主机，开发运维啥的都统一到ubuntu，就不会有这些破事了。</p><p class="subheader">Category: <a href="../category/technology.html">Technology</a>

    Tagged: 
    <a href="../tag/tech.html">tech </a>
    <a href="../tag/python.html">python </a>
    <a href="../tag/mac.html">mac </a>
    <a href="../tag/web.html">web </a>
</p>



<p><a href="../posts/technology/install_pyv8_in_mac-zh.html#disqus_thread">comments</a></p>            </article>

<div class="pagination-centered">
<h6 class="subheader">Page 1 of 1</h6>

<p>

</p>
</div>



            <!-- /#posts-list -->

    </div>
    <!-- End Main Content -->

    <!-- Sidebar -->
    <aside class="large-3 columns">
        <h5 class="sidebar-title">Site</h5>
        <ul class="side-nav">
            <li><a href="../archives.html">Archives</a>
            <li><a href="../tags.html">Tags</a>
        </ul>

		
        <h5 class="sidebar-title">Categories</h5>
        <ul class="side-nav">
            <li><a href="../category/daily.html">daily</a></li>
            <li><a href="../category/technology.html">Technology</a></li>
            <li><a href="../category/translate.html">translate</a></li>
   
        </ul>

        <h5 class="sidebar-title">Links</h5>
        <ul class="side-nav">
            <li><a href="http://lingyu.wang/">天镶大神的 blog</a></li>
        </ul>
		
        <h5 class="sidebar-title">Social</h5>
        <ul class="side-nav">
            <li><a href="Weibo">http://weibo.com/saerdna13</a></li>
            <li><a href="Google plus">https://plus.google.com/105858506209398295278</a></li>
        </ul>
    </aside> <!-- End Sidebar -->
    <embed src="http://www.xiami.com/widget/3012097_2551935,1773679434,16925,124099,143408,52359,1769085020,1770242833,1771959699,_235_346_cccccc_dddddd_1/multiPlayer.swf" type="application/x-shockwave-flash" width="235" height="346" wmode="opaque"></embed>           

</div> <!-- End Main Content and Sidebar -->


<!-- Footer -->
<footer class="row">
    <div class="large-12 columns">
        <hr />
        <div class="row">
            <div class="large-6 columns">
              <!--                  <p>cool-fire by Saerdna</p> -->
            </div>
            </div>
    </div>
</footer>
</body>
</html>