date: 2015-01-01 12:43:13
category: Technology
tag: tech, arch
slug: arch design of stock service
title: 关于库存服务的架构设计

最近在负责<del>某司</del>的库存服务改造项目。

其实就是设计一个秒杀系统，让商品在极端的抢购环境下可以正常的扣减库存，同时不会超卖。

公司的项目已基本弄完，剩下的就是一些后期优化的工作。

在此整理一下设计要点，未来一段时间会考虑做一个开源版本，希望可以作成一个通用服务。

### 整体架构
由上至下分为3层

*	逻辑层
			
*	数据层
		
*	基础服务层
 	
#### 逻辑层
逻辑层主要负责数据处理以及分发

1.	接收外部系统的请求并分发。
2.	调用数据层获取原始数据拼装并返回

#### 数据层
逻辑层主要负责数据获取

1.	同数据库进行交互。
2.	同消息队列进行交互
3.	本地cache交互
4.	日志

#### 基础服务层
基础服务层主要对外部系统提供的一些接口针对性的封装。

1.	redis
2.	日志打印
3.	MQ（消息队列）
4.	local-cache
5.	模块监控

### 存储设计

to be continue...
